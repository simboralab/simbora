{% load static %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Evento - Simbora</title>

    <!-- Google Fonts: Roboto Condensed + Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Condensed:wght@300;400;700&display=swap"
        rel="stylesheet">

    <!-- Estilos gerais do Simbora -->
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
    <!-- Material Symbols Rounded -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Estilos específicos da página -->
    <link rel="stylesheet" href="{% static 'eventos/css/criar_eventos.css' %}">
</head>

<body class="has-header">
    
    <main class="container">
        <div class="form-wrapper-create">
            <h1>Organizar rolê</h1>

            <form method = "post" action="{% url "eventos:criar_evento" %}">
                {% csrf_token %}
                <section class="form-section">
                    <h2>Informações gerais</h2>
                    <div class="form-group">
                        <label for="event-name">Nome do evento</label>
                        <div class="input-group">
                            <span class="material-symbols-rounded icon">celebration</span>
                            {{evento_form.nome_evento}}
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="category">Categoria</label>
                        <div class="input-group">
                            <span class="material-symbols-rounded icon">category</span>
                            {{evento_form.categoria}}
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">Descrição</label>
                        <div class="input-group textarea-group">
                            {{evento_form.descricao}}
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="whatsapp-link">Grupo do WhatsApp</label>
                        <div class="input-group">
                            <span class="material-symbols-rounded icon">chat</span>
                            {{evento_form.grupo_whatsapp}}
                        </div>
                        <p class="field-help">Crie um grupo no WhatsApp e cole o link aqui para que os participantes possam se conectar.</p>
                    </div>

                    <div class="form-group">
                        <label for="tags-input">Tags</label>
                        <div class="tags-container">
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">label</span>
                                {{evento_form.tags_input}}
                            </div>
                            <div class="tags-list" id="tags-list"></div>
                            <p class="field-help">Adicione tags para ajudar outros usuários a encontrar seu evento. Ex: música, ao ar livre, gratuito</p>
                        </div>
                    </div>
                </section>

                <section class="form-section">
                    <h2>Data e Horário</h2>
                    <div class="date-time">
                        <div class="form-group">
                            <label for="start-date">Data de Início</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">calendar_today</span>
                                {{evento_form.data_inicial}}
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="start-time">Hora de Início</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">schedule</span>
                                {{evento_form.horario_inicial}}
                            </div>
                        </div>
                    </div>

                    <div class="date-time">
                        <div class="form-group">
                            <label for="end-date">Data de Término</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">event</span>
                                {{evento_form.data_final}}
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="end-time">Hora de Término</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">schedule</span>
                                {{evento_form.horario_final}}
                            </div>
                        </div>
                    </div>
                </section>

                <section class="form-section">
                    <h2>Endereço</h2>
                    <div class="form-group">
                        <label for="location-name">Nome do local</label>
                        <div class="input-group">
                            <span class="material-symbols-rounded icon">store</span>
                            {{evento_form.nome_local}}
                        </div>
                    </div>

                    <div class="address-group">
                        <div class="form-group flex-2">
                            <label for="address">Endereço</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">location_on</span>
                                {{endereco_form.rua}}
                            </div>
                        </div>
                        <div class="form-group flex-1">
                            <label for="number">Número</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">home_pin</span>
                                {{endereco_form.numero}}
                            </div>
                        </div>
                    </div>

                    <div class="address-group">
                        <div class="form-group">
                            <label for="cep">CEP</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">markunread_mailbox</span>
                              {{endereco_form.cep}}
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="neighborhood">Bairro</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">map</span>
                                {{endereco_form.bairro}}
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="city">Cidade</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">location_city</span>
                                {{endereco_form.cidade}}
                            </div>
                        </div>
                    </div>
                </section>

                <section class="form-section">
                    <h2>Ponto de encontro <span class="optional">(OPCIONAL)</span></h2>
                    <div class="form-group">
                        <label for="meeting-point-name">Nome do ponto de encontro</label>
                        <div class="input-group">
                            <span class="material-symbols-rounded icon">place</span>
                            {{evento_form.local_encontro}}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="meeting-point-description">Descrição do ponto de encontro</label>
                        <div class="input-group textarea-group">
                            {{evento_form.ponto_descricao}}
                        </div>
                        <p class="field-help">Adicione informações que ajudem os participantes a te encontrar, como roupas que você estará usando, pontos de referência, etc.</p>
                    </div>
                </section>

                <section class="form-section">
                    <h2>Informações de membro</h2>
                    <div class="address-group">
                        <div class="form-group">
                            <label for="min-people">Mínimo de pessoas</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">group</span>
                                {{evento_form.minimo_participantes}}
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="max-people">Máximo de pessoas</label>
                            <div class="input-group">
                                <span class="material-symbols-rounded icon">groups</span>
                                {{evento_form.maximo_participantes}}
                            </div>
                        </div>
                    </div>
                </section>

                <section class="form-section">
                    <h2>Foto de divulgação <span class="optional">(OPCIONAL)</span></h2>
                    <div class="form-group">
                        <label for="cover-image">Imagem de capa/banner</label>
                        <div class="cover-upload-wrapper">
                            <div class="image-upload-container">
                            {{evento_form.foto}}
                            <label for="cover-image" class="file-label">
                                <span class="material-symbols-rounded upload-icon">image</span>
                                <span class="file-label-text">Clique para selecionar ou arraste uma imagem</span>
                                <span class="file-label-hint">JPEG ou PNG</span>
                            </label>
                                <div class="image-preview" id="image-preview" style="display: none;">
                                    <img id="preview-img" src="" alt="Preview da imagem">
                                    <button type="button" class="remove-image-btn" id="remove-image">
                                        <span class="material-symbols-rounded">close</span>
                                    </button>
                                </div>
                            </div>
                            <div class="cover-upload-info">
                                <p class="info-title">Especificações da imagem:</p>
                                <ul class="info-list">
                                    <li>A dimensão recomendada é de <strong>1600 x 838</strong></li>
                                    <li>Formato <strong>JPEG ou PNG</strong> de no máximo <strong>2MB</strong></li>
                                    <li>Imagens com dimensões diferentes serão redimensionadas</li>
                                </ul>
                                <div class="template-link-container">
                                    <a href="https://www.canva.com/create/facebook-event-cover/" target="_blank" rel="noopener noreferrer" class="template-link">
                                        <span class="material-symbols-rounded">palette</span>
                                        <span>Criar imagem no Canva</span>
                                        <span class="material-symbols-rounded">open_in_new</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="form-section no-border">
                    <h2>Regras de Convivência <span class="optional">(OPCIONAL)</span></h2>
                    <div class="form-group">
                        <label for="rules">Regras e orientações do Host</label>
                        <div class="input-group textarea-group">
                            {{evento_form.regras}}
                        </div>
                        <div class="rules-disclaimer">
                            <span class="material-symbols-rounded">info</span>
                            <div>
                                <p class="disclaimer-text">
                                    <strong>Importante:</strong> Estas são sugestões e regras de convivência definidas pelo Host do Rolê. 
                                    Para detalhes oficiais do evento (ingressos, horário e política), consulte o site oficial do evento.
                                </p>
                                <p class="disclaimer-note">
                                    Se o evento for externo à plataforma (show, corrida, festival, etc.), verifique sempre as informações oficiais no site do organizador.
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <div class="checkbox-container">
                    <input type="checkbox" id="agree-terms" name="agree_terms" required>
                    <label for="agree-terms" class="checkbox-label">
                        Ao publicar este evento, estou de acordo com os <a href="#" target="_blank">Termos de uso</a>, 
                        com as <a href="#" target="_blank">Diretrizes de Comunidade</a> e com as 
                        <a href="#" target="_blank">Regras de meia-entrada</a>, bem como declaro estar ciente da 
                        <a href="#" target="_blank">Política de Privacidade</a> e das 
                        <a href="#" target="_blank">Obrigatoriedades Legais</a>.
                    </label>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary">Criar evento</button>
                </div>
            </form>
        </div>

        
    </main>

    {% if evento_form.errors %}
        <div class="form-errors">
            {{ evento_form.errors }}
        </div>
    {% endif %}

    <!-- JavaScript -->
    <script src = "{% static "eventos/js/principal.js" %}"></script>
    <script src = "{% static "eventos/js/create-event.js" %}"></script>
    <script src = "{% static "eventos/js/validation-create-event.js" %}"></script>
</body>

</html>